(dp1
S'output'
p2
S"<type 'exceptions.AttributeError'> 'Query' object has no attribute 'type'"
p3
sS'layer'
p4
S'/var/www/web2py/applications/tcc/controllers/control.py'
p5
sS'code'
p6
S'# coding=utf-8\nimport commands\nimport itertools\nimport os\nimport platform\nimport re\nimport socket\nimport struct\n\n\ndef login(): ######## Tela Login ########\n    return response.render("estrutura/login.html")\n\ndef dash(): ######## Tela dashboard ########\n    ##qtde_os = qtde_so()\n    from subprocess import check_output\n    saida_ip_externo = commands.getoutput(\'sudo curl ifconfig.pro\')\n    ip_externo = saida_ip_externo.split("\\n")\n\n    ips = check_output([\'hostname\', \'--all-ip-addresses\'])\n\n    idScan = db(db.Scan).select()[-1].id\n\n    windows_disp = db((db.ScanDispositivo.nomeOs == "Windows") & (db.ScanDispositivo.idScan == idScan)).select().as_list()\n    count_windows = len(windows_disp)\n\n    linux_disp = db((db.ScanDispositivo.nomeOs == "Linux") & (db.ScanDispositivo.idScan == idScan)).select().as_list()\n    count_linux = len(linux_disp)\n\n    outros_disp = db((db.ScanDispositivo.nomeOs == "Outro") & (db.ScanDispositivo.idScan == idScan)).select().as_list()\n    count_outros = len(outros_disp)\n\n    dispositivos = db().select(db.ScanDispositivo.idScan == idScan).as_list()\n    portas = []\n\n\n    return response.render("estrutura/dash.html", ip_externo=ip_externo, ips=ips, count_windows=count_windows,\n                           count_linux=count_linux, count_outros=count_outros, idScan=portas)\n\ndef relatorio(): ######## Tela Relat\xc3\xb3rio ########\n    return response.render("estrutura/relatorio.html")\n\n\ndef scan(): ######## Tela Scan onde \'starta\' os scans ########\n    return response.render(\'estrutura/scan.html\')\n\n\ndef settings(): ######## Tela de Configura\xc3\xa7\xc3\xb5es ########\n    ### Servi\xc3\xa7os - iniciar/parar/reiniciar ###\n    server = get_server()\n    saida_apache = commands.getoutput(\'sudo /etc/init.d/apache2 status\')\n    dict_apache = saida_apache.split("\\n")\n    retorno_apache = None\n    for line in dict_apache:\n        if \'running\' in line:\n            retorno_apache = \'Ativo\'\n            break\n        else:\n            retorno_apache = \'Inativo\'\n\n    saida_openvpn = commands.getoutput(\'sudo /etc/init.d/openvpn status\')\n    dict_openvpn = saida_openvpn.split("\\n")\n    retorno_openvpn = None\n    for line in dict_openvpn:\n        if \'inactive\' in line:\n            retorno_openvpn = \'Inativo\'\n            break\n        else:\n            retorno_openvpn = \'Ativo\'\n\n    saida_ssh = commands.getoutput(\'sudo /etc/init.d/ssh status\')\n    dict_ssh = saida_ssh.split("\\n")\n    retorno_ssh = None\n    for line in dict_ssh:\n        if \'inactive\' in line:\n            retorno_ssh = \'Inativo\'\n            break\n        else:\n            retorno_ssh = \'Ativo\'\n\n    ### Termina Servi\xc3\xa7os ###\n\n    ### Sistema Operacional ###\n    saida_os = commands.getoutput("lsb_release -a")\n    dict_os = saida_os.split("\\n")\n    dict_os1 = dict_os[1].split("\\t")\n    retorno_dict_os = dict_os1[1]\n\n    ### LOAD ###\n\n    saida_load = commands.getoutput("uptime")\n    dict_load = saida_load.split(":")\n    retorno_dict_load = dict_load[4]\n\n    return response.render(\'estrutura/settings.html\', retorno_apache=retorno_apache, dict_apache=dict_apache,\n                           dict_openvpn=dict_openvpn, retorno_openvpn=retorno_openvpn, retorno_ssh=retorno_ssh,\n                           dict_ssh=dict_ssh, server=server, retorno_dict_os=retorno_dict_os, retorno_dict_load=retorno_dict_load)\n\n############################\n\ndef iniciar_servico_apache():\n    try:\n        os.system(\'sudo /etc/init.d/apache2 start\')\n    except Exception as error:\n        return error\n\ndef parar_servico_apache():\n    try:\n        os.system(\'sudo /etc/init.d/apache2 stop\')\n    except Exception as error:\n        return error\n\n\ndef reiniciar_servico_apache():\n    try:\n        os.system(\'sudo /etc/init.d/apache2 restart\')\n    except Exception as error:\n        return error\n\n############################\n\ndef iniciar_servico_openvpn():\n    try:\n        os.system("sudo /etc/init.d/openvpn start")\n    except Exception as error:\n        return error\n\ndef parar_servico_openvpn():\n    try:\n        os.system("sudo /etc/init.d/openvpn stop")\n    except Exception as error:\n        return error\n\n\ndef reiniciar_servico_openvpn():\n    try:\n        os.system("sudo /etc/init.d/openvpn restart")\n    except Exception as error:\n        return error\n\n############################\n\ndef iniciar_servico_ssh():\n    try:\n        os.system("sudo /etc/init.d/ssh start")\n    except Exception as error:\n        return error\n\ndef parar_servico_ssh():\n    try:\n        os.system("sudo /etc/init.d/ssh stop")\n    except Exception as error:\n        return error\n\n\ndef reiniciar_servico_ssh():\n    try:\n        os.system("sudo /etc/init.d/ssh restart")\n    except Exception as error:\n        return error\n\n#######################################################################\n\ndef get_ip(): ### Fun\xc3\xa7\xc3\xa3o que retorna endere\xc3\xa7o ip das interfaces LAN/WLAN ###\n    global ip\n    f = os.popen(\'ifconfig\')\n    for iface in [\' \'.join(i) for i in iter(lambda: list(itertools.takewhile(lambda l: not l.isspace(),f)), [])]:\n        if re.findall(\'^(eth|wlan)[0-9]\',iface) and re.findall(\'RUNNING\',iface):\n            ip = re.findall(\'(?<=inet\\saddr:)[0-9\\.]+\',iface)\n            if ip:\n                return ip[0]\n    return ip\n\n\ndef gateway(): ### Retorna endere\xc3\xa7o IP do gateway ###\n    """Read the default gateway directly from /proc."""\n    with open("/proc/net/route") as fh:\n        for line in fh:\n            fields = line.strip().split()\n            if fields[1] != \'00000000\' or not int(fields[3], 16) & 2:\n                continue\n\n            return socket.inet_ntoa(struct.pack("<L", int(fields[2], 16)))\n\n\'\'\'Fun\xc3\xa7\xc3\xb5es Teste\nip_interno = commands.getoutput(\'sudo ifconfig eth1 | grep "inet\\ addr" | cut -d: -f2 | cut -d" " -f1\') \'\'\'\n\n\n#######################################################################\n\n\ndef qtde_host(): ######## Quantidade de host na rede, ir\xc3\xa1 retornar todos dispositivos que est\xc3\xa3o conectados ########\n    saida_host = commands.getoutput(\'sudo nmap -sP 192.168.100.0/24 | grep hosts\')\n    dict_host = saida_host.split(" ")\n\n    return dict_host[5]\n\n\ndef qtde_so(): ######## Retorna quantidade de Windows e Linux conectados \xc3\xa0 rede ########\n    qtde_os = {}\n    qtde_os[\'Windows\'] = commands.getoutput(\'sudo nmap --top-ports 1 -O -F -n -Pn -r 192.168.1.0/24 | grep "Running: "> /tmp/os; echo "$(cat /tmp/os | grep -i Windows | wc -l)"\')\n    qtde_os[\'Linux\'] = commands.getoutput(\'sudo nmap --top-ports 1 -O -F -n -Pn -r 192.168.1.0/24 | grep "Running: "> /tmp/os; echo "$(cat /tmp/os | grep -i Linux | wc -l)"\')\n\n    return str(qtde_os).replace(\'{\',\'\').replace(\'}\',\'\')\n\n\ndef get_server(): ######## Informa\xc3\xa7\xc3\xb5es de hardware/software da Raspberry ########\n    server = {}\n    #var = platform.platform()\n    #server[\'distribuicao\'] = var.split(\'-\')[6]\n    #server[\'versao\'] = var.split(\'-\')[7]\n    server[\'arch\'] = platform.processor()\n    server[\'host\'] = platform.uname()[1]\n    server[\'kernel\'] = platform.uname()[2]\n    server[\'pythonv\'] = platform.python_version()\n    server[\'memory\'] = int(commands.getoutput("cat /proc/meminfo | grep MemTotal").split(\':\')[1].split(\'k\')[0])/1000\n    disk = os.statvfs("/")\n    totalBytes = float(disk.f_bsize*disk.f_blocks)\n    server[\'disk\'] = "%.2f GBytes" % (totalBytes/1024/1024/1024)\n\n    #var = commands.getoutput("atop | grep cpu")\n    return server\n\n\n### Fun\xc3\xa7\xc3\xa3o para mostrar hora real time ###\ndef atualiza_hora():\n    from datetime import datetime\n    item = str(datetime.now().strftime(\'%H:%M:%S - %d/%m/%Y\'))\n\n    return item\n\nresponse._vars=response._caller(dash)\n'
p7
sS'snapshot'
p8
(dp9
S'exception'
p10
(dp11
S'__hash__'
p12
S"<method-wrapper '__hash__' of exceptions.AttributeError object>"
p13
sS'__setattr__'
p14
S"<method-wrapper '__setattr__' of exceptions.AttributeError object>"
p15
sS'__reduce_ex__'
p16
S'<built-in method __reduce_ex__ of exceptions.AttributeError object>'
p17
sS'__getslice__'
p18
S"<method-wrapper '__getslice__' of exceptions.AttributeError object>"
p19
sS'__getitem__'
p20
S"<method-wrapper '__getitem__' of exceptions.AttributeError object>"
p21
sS'__setstate__'
p22
S'<built-in method __setstate__ of exceptions.AttributeError object>'
p23
sS'args'
p24
S'("\'Query\' object has no attribute \'type\'",)'
p25
sS'__reduce__'
p26
S'<built-in method __reduce__ of exceptions.AttributeError object>'
p27
sS'__str__'
p28
S"<method-wrapper '__str__' of exceptions.AttributeError object>"
p29
sS'__format__'
p30
S'<built-in method __format__ of exceptions.AttributeError object>'
p31
sS'__getattribute__'
p32
S"<method-wrapper '__getattribute__' of exceptions.AttributeError object>"
p33
sS'__class__'
p34
S"<type 'exceptions.AttributeError'>"
p35
sS'__unicode__'
p36
S'<built-in method __unicode__ of exceptions.AttributeError object>'
p37
sS'__delattr__'
p38
S"<method-wrapper '__delattr__' of exceptions.AttributeError object>"
p39
sS'__subclasshook__'
p40
S'<built-in method __subclasshook__ of type object>'
p41
sS'__repr__'
p42
S"<method-wrapper '__repr__' of exceptions.AttributeError object>"
p43
sS'__dict__'
p44
S'{}'
p45
sS'__sizeof__'
p46
S'<built-in method __sizeof__ of exceptions.AttributeError object>'
p47
sS'__doc__'
p48
S"'Attribute not found.'"
p49
sS'__init__'
p50
S"<method-wrapper '__init__' of exceptions.AttributeError object>"
p51
sS'__new__'
p52
S'<built-in method __new__ of type object>'
p53
ssS'evalue'
p54
S"'Query' object has no attribute 'type'"
p55
sS'request'
p56
cgluon.html
XML_unpickle
p57
(S's\x9dX\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">ajax</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">application</td><td style="vertical-align:top;">:</td><td><div>tcc</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cid</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">client</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">controller</td><td style="vertical-align:top;">:</td><td><div>control</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">session_id_admin</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-37be75b3-7eb7-4964-ba77-2114d567caeb<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_tcc</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-22480813-4047-4ad0-b78f-a1adf8df781b<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_welcome</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-fa80273e-9a58-4c92-bd1d-58f7e8240d43<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">env</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT</td><td style="vertical-align:top;">:</td><td><div>text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_ENCODING</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_LANGUAGE</td><td style="vertical-align:top;">:</td><td><div>en-US,en;q=0.5</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CACHE_CONTROL</td><td style="vertical-align:top;">:</td><td><div>max-age=0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CONNECTION</td><td style="vertical-align:top;">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_COOKIE</td><td style="vertical-align:top;">:</td><td><div>session_id_welcome=127.0.0.1-fa80273e-9a58-4c92-bd1d-58f7e8240d43; session_id_tcc=127.0.0.1-22480813-4047-4ad0-b78f-a1adf8df781b; session_id_admin=127.0.0.1-37be75b3-7eb7-4964-ba77-2114d567caeb</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_HOST</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_USER_AGENT</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20100101 Firefox/45.0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">PATH_INFO</td><td style="vertical-align:top;">:</td><td><div>/tcc/control/dash</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">QUERY_STRING</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_ADDR</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_PORT</td><td style="vertical-align:top;">:</td><td><div>45048</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REQUEST_METHOD</td><td style="vertical-align:top;">:</td><td><div>GET</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SCRIPT_NAME</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_NAME</td><td style="vertical-align:top;">:</td><td><div>kali</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PORT</td><td style="vertical-align:top;">:</td><td><div>8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PROTOCOL</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_SOFTWARE</td><td style="vertical-align:top;">:</td><td><div>Rocket 1.2.6</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;/var/www/web2py/applications/welcome/&#x27;, &#x27;/var/www/web2py/applications/tcc/&#x27;, &#x27;/var/www/web2py/applications/admin/&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>/var/www/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_options</td><td style="vertical-align:top;">:</td><td><div>&lt;Values at 0x7f0e6cd92320: {&#x27;verbose&#x27;: False, &#x27;ip&#x27;: &#x27;127.0.0.1&#x27;, &#x27;debuglevel&#x27;: 30, &#x27;with_scheduler&#x27;: False, &#x27;shutdown_timeout&#x27;: 5, &#x27;taskbar&#x27;: False, &#x27;with_coverage&#x27;: False, &#x27;pid_filename&#x27;: &#x27;httpserver.pid&#x27;, &#x27;maxthreads&#x27;: None, &#x27;softcron&#x27;: False, &#x27;server_name&#x27;: &#x27;kali&#x27;, &#x27;bpython&#x27;: False, &#x27;nogui&#x27;: False, &#x27;port&#x27;: 8000, &#x27;print_errors&#x27;: False, &#x27;extcron&#x27;: False, &#x27;runcron&#x27;: False, &#x27;run_system_tests&#x27;: False, &#x27;test&#x27;: None, &#x27;folder&#x27;: &#x27;/var/www/web2py&#x27;, &#x27;config&#x27;: &#x27;&#x27;, &#x27;minthreads&#x27;: None, &#x27;shell&#x27;: None, &#x27;run&#x27;: &#x27;&#x27;, &#x27;log_filename&#x27;: &#x27;httpserver.log&#x27;, &#x27;profiler_dir&#x27;: None, &#x27;args&#x27;: [&#x27;&#x27;], &#x27;socket_timeout&#x27;: 5, &#x27;ssl_ca_certificate&#x27;: None, &#x27;scheduler&#x27;: None, &#x27;interfaces&#x27;: None, &#x27;ssl_private_key&#x27;: &#x27;&#x27;, &#x27;gae&#x27;: None, &#x27;password&#x27;: &#x27;******&#x27;, &#x27;request_queue_size&#x27;: 5, &#x27;ssl_certificate&#x27;: &#x27;&#x27;, &#x27;cronjob&#x27;: False, &#x27;numthreads&#x27;: None, &#x27;quiet&#x27;: False, &#x27;import_models&#x27;: False, &#x27;timeout&#x27;: 10, &#x27;plain&#x27;: False, &#x27;nobanner&#x27;: False}&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>/var/www/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept</td><td style="vertical-align:top;">:</td><td><div>text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_encoding</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_language</td><td style="vertical-align:top;">:</td><td><div>en-US,en;q=0.5</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_cache_control</td><td style="vertical-align:top;">:</td><td><div>max-age=0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_connection</td><td style="vertical-align:top;">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_cookie</td><td style="vertical-align:top;">:</td><td><div>session_id_welcome=127.0.0.1-fa80273e-9a58-4c92-bd1d-58f7e8240d43; session_id_tcc=127.0.0.1-22480813-4047-4ad0-b78f-a1adf8df781b; session_id_admin=127.0.0.1-37be75b3-7eb7-4964-ba77-2114d567caeb</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_host</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_user_agent</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20100101 Firefox/45.0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>kali</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>127.0.1.1</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path_info</td><td style="vertical-align:top;">:</td><td><div>/tcc/control/dash</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">query_string</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_addr</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_port</td><td style="vertical-align:top;">:</td><td><div>45048</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_method</td><td style="vertical-align:top;">:</td><td><div>GET</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_uri</td><td style="vertical-align:top;">:</td><td><div>/tcc/control/dash</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">script_name</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_name</td><td style="vertical-align:top;">:</td><td><div>kali</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_port</td><td style="vertical-align:top;">:</td><td><div>8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_protocol</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_software</td><td style="vertical-align:top;">:</td><td><div>Rocket 1.2.6</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_path</td><td style="vertical-align:top;">:</td><td><div>/var/www/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.14.6-stable+timestamp.2016.05.10.00.21.47</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.errors</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;&lt;stderr&gt;&#x27;, mode &#x27;w&#x27; at 0x7f0e6eafa1e0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;class wsgiref.util.FileWrapper at 0x7f0e6324e7a0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.input</td><td style="vertical-align:top;">:</td><td><div>&lt;socket._fileobject object at 0x7f0e603af250&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multiprocess</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multithread</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.url_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_errors</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;&lt;stderr&gt;&#x27;, mode &#x27;w&#x27; at 0x7f0e6eafa1e0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;class wsgiref.util.FileWrapper at 0x7f0e6324e7a0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_input</td><td style="vertical-align:top;">:</td><td><div>&lt;socket._fileobject object at 0x7f0e603af250&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multiprocess</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multithread</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_url_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">extension</td><td style="vertical-align:top;">:</td><td><div>html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">folder</td><td style="vertical-align:top;">:</td><td><div>/var/www/web2py/applications/tcc/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">function</td><td style="vertical-align:top;">:</td><td><div>dash</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">global_settings</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;/var/www/web2py/applications/welcome/&#x27;, &#x27;/var/www/web2py/applications/tcc/&#x27;, &#x27;/var/www/web2py/applications/admin/&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>/var/www/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_options</td><td style="vertical-align:top;">:</td><td><div>&lt;Values at 0x7f0e6cd92320: {&#x27;verbose&#x27;: False, &#x27;ip&#x27;: &#x27;127.0.0.1&#x27;, &#x27;debuglevel&#x27;: 30, &#x27;with_scheduler&#x27;: False, &#x27;shutdown_timeout&#x27;: 5, &#x27;taskbar&#x27;: False, &#x27;with_coverage&#x27;: False, &#x27;pid_filename&#x27;: &#x27;httpserver.pid&#x27;, &#x27;maxthreads&#x27;: None, &#x27;softcron&#x27;: False, &#x27;server_name&#x27;: &#x27;kali&#x27;, &#x27;bpython&#x27;: False, &#x27;nogui&#x27;: False, &#x27;port&#x27;: 8000, &#x27;print_errors&#x27;: False, &#x27;extcron&#x27;: False, &#x27;runcron&#x27;: False, &#x27;run_system_tests&#x27;: False, &#x27;test&#x27;: None, &#x27;folder&#x27;: &#x27;/var/www/web2py&#x27;, &#x27;config&#x27;: &#x27;&#x27;, &#x27;minthreads&#x27;: None, &#x27;shell&#x27;: None, &#x27;run&#x27;: &#x27;&#x27;, &#x27;log_filename&#x27;: &#x27;httpserver.log&#x27;, &#x27;profiler_dir&#x27;: None, &#x27;args&#x27;: [&#x27;&#x27;], &#x27;socket_timeout&#x27;: 5, &#x27;ssl_ca_certificate&#x27;: None, &#x27;scheduler&#x27;: None, &#x27;interfaces&#x27;: None, &#x27;ssl_private_key&#x27;: &#x27;&#x27;, &#x27;gae&#x27;: None, &#x27;password&#x27;: &#x27;******&#x27;, &#x27;request_queue_size&#x27;: 5, &#x27;ssl_certificate&#x27;: &#x27;&#x27;, &#x27;cronjob&#x27;: False, &#x27;numthreads&#x27;: None, &#x27;quiet&#x27;: False, &#x27;import_models&#x27;: False, &#x27;timeout&#x27;: 10, &#x27;plain&#x27;: False, &#x27;nobanner&#x27;: False}&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>/var/www/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>kali</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>127.0.1.1</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.14.6-stable+timestamp.2016.05.10.00.21.47</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_https</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_local</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_restful</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_scheduler</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_shell</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">now</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2017, 8, 29, 21, 1, 0, 474839)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">raw_args</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">raw_extension</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">url</td><td style="vertical-align:top;">:</td><td><div>/tcc/control/dash</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">utcnow</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2017, 8, 30, 1, 1, 0, 474870)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi</td><td style="vertical-align:top;">:</td><td><div>&lt;gluon.main.LazyWSGI object at 0x7f0e16325c50&gt;</div></td></tr></table></div>'
tRp58
sS'frames'
p59
(lp60
(dp61
S'file'
p62
S'/var/www/web2py/gluon/restricted.py'
p63
sS'dump'
p64
(dp65
S'environment'
p66
S"{'A': <class 'gluon.html.A'>, 'ANY_OF': <class 'gluon.validators.ANY_OF'>, 'ASSIGNJS': <function ASSIGNJS>, 'Auth': <class 'gluon.tools.Auth'>, 'B': <class 'gluon.html.B'>, 'BEAUTIFY': <class 'gluon.html.BEAUTIFY'>, 'BODY': <class 'gluon.html.BODY'>, 'BR': <class 'gluon.html.BR'>, 'BUTTON': <class 'gluon.html.BUTTON'>, 'CAT': <class 'gluon.html.CAT'>, ...}"
p67
sS'ccode'
p68
S'<code object <module> at 0x7f0e161d1a30, file "/...applications/tcc/controllers/control.py", line 2>'
p69
ssS'lnum'
p70
I227
sS'lines'
p71
(dp72
I224
S'            ccode = code'
p73
sI225
S'        else:'
p74
sI226
S'            ccode = compile2(code, layer)'
p75
sI227
S'        exec ccode in environment'
p76
sI228
S'    except HTTP:'
p77
sI229
S'        raise'
p78
sI230
S'    except RestrictedError:'
p79
sI231
S'        # do not encapsulate (obfuscate) the original RestrictedError'
p80
sI222
S'    try:'
p81
sI223
S'        if isinstance(code, types.CodeType):'
p82
ssS'call'
p83
S"(code='# coding=utf-8\\nimport commands\\nimport itertools\\n...turn item\\n\\nresponse._vars=response._caller(dash)\\n', environment={'A': <class 'gluon.html.A'>, 'ANY_OF': <class 'gluon.validators.ANY_OF'>, 'ASSIGNJS': <function ASSIGNJS>, 'Auth': <class 'gluon.tools.Auth'>, 'B': <class 'gluon.html.B'>, 'BEAUTIFY': <class 'gluon.html.BEAUTIFY'>, 'BODY': <class 'gluon.html.BODY'>, 'BR': <class 'gluon.html.BR'>, 'BUTTON': <class 'gluon.html.BUTTON'>, 'CAT': <class 'gluon.html.CAT'>, ...}, layer='/var/www/web2py/applications/tcc/controllers/control.py')"
p84
sS'func'
p85
S'restricted'
p86
sa(dp87
g62
S'/var/www/web2py/applications/tcc/controllers/control.py'
p88
sg64
(dp89
sg70
I232
sg71
(dp90
I224
S''
sI225
S'### Fun\xc3\xa7\xc3\xa3o para mostrar hora real time ###'
p91
sI226
S'def atualiza_hora():'
p92
sI227
S'    from datetime import datetime'
p93
sI228
S"    item = str(datetime.now().strftime('%H:%M:%S - %d/%m/%Y'))"
p94
sI229
S''
sI230
S'    return item'
p95
sI221
S'    #var = commands.getoutput("atop | grep cpu")'
p96
sI222
S'    return server'
p97
sI223
S''
ssg83
S'()'
p98
sg85
S'<module>'
p99
sa(dp100
g62
S'/var/www/web2py/gluon/globals.py'
p101
sg64
(dp102
S'self'
p103
S'undefined'
p104
sS'f'
S'<function dash>'
p105
ssg70
I417
sg71
(dp106
I416
S'        self._vars = None'
p107
sI417
S'        self._caller = lambda f: f()'
p108
sI418
S'        self._view_environment = None'
p109
sI419
S'        self._custom_commit = None'
p110
sI420
S'        self._custom_rollback = None'
p111
sI421
S"        self.generic_patterns = ['*']"
p112
sI412
S"        self.flash = ''            # used by the default view layout"
p113
sI413
S'        self.meta = Storage()      # used by web2py_ajax.html'
p114
sI414
S'        self.menu = []             # used by the default view layout'
p115
sI415
S'        self.files = []            # used by web2py_ajax.html'
p116
ssg83
S'(f=<function dash>)'
p117
sg85
S'<lambda>'
p118
sa(dp119
g62
S'/var/www/web2py/applications/tcc/controllers/control.py'
p120
sg64
(dp121
S').as_list'
p122
g104
sS'idScan'
p123
S'10L'
p124
sS'db.ScanDispositivo.idScan'
p125
S'<pydal.objects.Field object>'
p126
sS').select'
p127
g104
sS'db.ScanDispositivo'
p128
S'<Table ScanDispositivo (id, idScan, ip, mac, nomeFabricante, nomeOs)>'
p129
sS'global db'
p130
S'<DAL uri="sqlite://Scans.db">'
p131
sS'dispositivos'
p132
g104
ssg70
I33
sg71
(dp133
I32
S''
sI33
S'    dispositivos = db().select(db.ScanDispositivo.idScan == idScan).as_list()'
p134
sI34
S'    portas = []'
p135
sI35
S''
sI36
S''
sI37
S'    return response.render("estrutura/dash.html", ip_externo=ip_externo, ips=ips, count_windows=count_windows,'
p136
sI28
S'    count_linux = len(linux_disp)'
p137
sI29
S''
sI30
S'    outros_disp = db((db.ScanDispositivo.nomeOs == "Outro") & (db.ScanDispositivo.idScan == idScan)).select().as_list()'
p138
sI31
S'    count_outros = len(outros_disp)'
p139
ssg83
S'()'
p140
sg85
S'dash'
p141
sa(dp142
g62
S'/var/www/web2py/gluon/packages/dal/pydal/objects.py'
p143
sg64
(dp144
S'self.query'
p145
S'None'
p146
sS'adapter.select'
p147
S'<bound method SQLiteAdapter.select of <pydal.adapters.sqlite.SQLiteAdapter object>>'
p148
sS'fields'
p149
S'[<Query (ScanDispositivo.idScan = 10)>]'
p150
sS'adapter'
p151
S'<pydal.adapters.sqlite.SQLiteAdapter object>'
p152
sS'attributes'
p153
g45
sS'self'
p154
S'<Set None>'
p155
ssg70
I2020
sg71
(dp156
I2016
S"                                    attributes.get('left', None),"
p157
sI2017
S"                                    attributes.get('orderby', None),"
p158
sI2018
S"                                    attributes.get('groupby', None))"
p159
sI2019
S'        fields = adapter.expand_all(fields, tablenames)'
p160
sI2020
S'        return adapter.select(self.query, fields, attributes)'
p161
sI2021
S''
sI2022
S'    def iterselect(self, *fields, **attributes):'
p162
sI2023
S'        adapter = self.db._adapter'
p163
sI2024
S'        tablenames = adapter.tables(self.query,'
p164
sI2015
S"                                    attributes.get('join', None),"
p165
ssg83
S'(self=<Set None>, *fields=[<Query (ScanDispositivo.idScan = 10)>], **attributes={})'
p166
sg85
S'select'
p167
sa(dp168
g62
S'/var/www/web2py/gluon/packages/dal/pydal/adapters/sqlite.py'
p169
sg64
(dp170
S'fields'
p171
S'[<Query (ScanDispositivo.idScan = 10)>]'
p172
sS'self'
p173
S'<pydal.adapters.sqlite.SQLiteAdapter object>'
p174
sS').select'
p175
S'<bound method SQLiteAdapter.select of <pydal.adapters.sqlite.SQLiteAdapter object>>'
p176
sS'attributes'
p177
g45
sS'global SQLiteAdapter'
p178
S"<class 'pydal.adapters.sqlite.SQLiteAdapter'>"
p179
sS'query'
p180
S'None'
p181
sS'builtinsuper'
p182
S"<type 'super'>"
p183
ssg70
I123
sg71
(dp184
I118
S'        Note that the entire database, rather than one record, is locked'
p185
sI119
S'        (it will be locked eventually anyway by the following UPDATE).'
p186
sI120
S'        """'
p187
sI121
S"        if attributes.get('for_update', False) and not 'cache' in attributes:"
p188
sI122
S"            self.execute('BEGIN IMMEDIATE TRANSACTION;')"
p189
sI123
S'        return super(SQLiteAdapter, self).select(query, fields, attributes)'
p190
sI124
S''
sI125
S''
sI126
S'SPATIALLIBS = {'
p191
sI127
S"    'Windows':'mod_spatialite.dll',"
p192
ssg83
S'(self=<pydal.adapters.sqlite.SQLiteAdapter object>, query=None, fields=[<Query (ScanDispositivo.idScan = 10)>], attributes={})'
p193
sg85
g167
sa(dp194
g62
S'/var/www/web2py/gluon/packages/dal/pydal/adapters/base.py'
p195
sg64
(dp196
S'self._select'
p197
S'<bound method SQLiteAdapter._select of <pydal.adapters.sqlite.SQLiteAdapter object>>'
p198
sS'fields'
p199
S'[<Query (ScanDispositivo.idScan = 10)>]'
p200
sS'self'
p201
S'<pydal.adapters.sqlite.SQLiteAdapter object>'
p202
sS'sql'
p203
g104
sS'query'
p204
S'None'
p205
sS'attributes'
p206
g45
ssg70
I1283
sg71
(dp207
I1280
S'        """'
p208
sI1281
S'        Always returns a Rows object, possibly empty.'
p209
sI1282
S'        """'
p210
sI1283
S'        sql = self._select(query, fields, attributes)'
p211
sI1284
S"        cache = attributes.get('cache', None)"
p212
sI1285
S"        if cache and attributes.get('cacheable',False):"
p213
sI1286
S"            del attributes['cache']"
p214
sI1287
S'            (cache_model, time_expire) = cache'
p215
sI1278
S''
sI1279
S'    def select(self, query, fields, attributes):'
p216
ssg83
S'(self=<pydal.adapters.sqlite.SQLiteAdapter object>, query=None, fields=[<Query (ScanDispositivo.idScan = 10)>], attributes={})'
p217
sg85
g167
sa(dp218
g62
S'/var/www/web2py/gluon/packages/dal/pydal/adapters/base.py'
p219
sg64
(dp220
S'fields'
p221
S'[<Query (ScanDispositivo.idScan = 10)>]'
p222
sS'sql_f'
p223
g104
sS'geoexpand'
p224
S'<function geoexpand>'
p225
sS'builtinmap'
p226
S'<built-in function map>'
p227
ssg70
I1110
sg71
(dp228
I1105
S'        self._colnames = list(map(colexpand, fields))'
p229
sI1106
S'        def geoexpand(field):'
p230
sI1107
S"            if isinstance(field.type,str) and field.type.startswith('geo') and isinstance(field, Field):"
p231
sI1108
S'                field = field.st_astext()'
p232
sI1109
S'            return self.expand(field)'
p233
sI1110
S"        sql_f = ', '.join(map(geoexpand, fields))"
p234
sI1111
S"        sql_o = ''"
p235
sI1112
S"        sql_s = ''"
p236
sI1113
S"        left = args_get('left', False)"
p237
sI1114
S"        inner_join = args_get('join', False)"
p238
ssg83
S'(self=<pydal.adapters.sqlite.SQLiteAdapter object>, query=None, fields=[<Query (ScanDispositivo.idScan = 10)>], attributes={})'
p239
sg85
S'_select'
p240
sa(dp241
g62
S'/var/www/web2py/gluon/packages/dal/pydal/adapters/base.py'
p242
sg64
(dp243
S'field.type'
p244
g104
sS'builtinisinstance'
p245
S'<built-in function isinstance>'
p246
sS'builtinstr'
p247
S"<type 'str'>"
p248
sS'global Field'
p249
S"<class 'pydal.objects.Field'>"
p250
sS'field'
p251
S'<Query (ScanDispositivo.idScan = 10)>'
p252
ssg70
I1107
sg71
(dp253
I1102
S"            raise SyntaxError('Set: no tables selected')"
p254
sI1103
S'        def colexpand(field):'
p255
sI1104
S'            return self.expand(field, colnames=True)'
p256
sI1105
S'        self._colnames = list(map(colexpand, fields))'
p257
sI1106
S'        def geoexpand(field):'
p258
sI1107
S"            if isinstance(field.type,str) and field.type.startswith('geo') and isinstance(field, Field):"
p259
sI1108
S'                field = field.st_astext()'
p260
sI1109
S'            return self.expand(field)'
p261
sI1110
S"        sql_f = ', '.join(map(geoexpand, fields))"
p262
sI1111
S"        sql_o = ''"
p263
ssg83
S'(field=<Query (ScanDispositivo.idScan = 10)>)'
p264
sg85
S'geoexpand'
p265
sasS'pyver'
p266
S'Python 2.7.13: /usr/bin/python (prefix: /usr)'
p267
sS'session'
p268
g57
(S's\x1a\x00\x00\x00<div><table></table></div>'
tRp269
sS'etype'
p270
S"<type 'exceptions.AttributeError'>"
p271
sS'date'
p272
S'Tue Aug 29 21:01:01 2017'
p273
sS'response'
p274
g57
(S's\x0f\x16\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">body</td><td style="vertical-align:top;">:</td><td><div>&lt;cStringIO.StringO object at 0x7f0e16331810&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">session_id_tcc</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-35932226-b2f5-4f3d-bdb8-1cb6536778e3<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div>/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">delimiters</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>{{</div></td></tr><tr><td><div>}}</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">files</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">flash</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">form_label_separator</td><td style="vertical-align:top;">:</td><td><div>: </div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">formstyle</td><td style="vertical-align:top;">:</td><td><div>table3cols</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">generic_patterns</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>*</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">headers</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">X-Powered-By</td><td style="vertical-align:top;">:</td><td><div>web2py</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">menu</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">meta</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">models_to_run</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>^\\w+\\.py$</div></td></tr><tr><td><div>^control/\\w+\\.py$</div></td></tr><tr><td><div>^control/dash/\\w+\\.py$</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">postprocessing</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_client</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_compression_level</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_expires</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_data_name</td><td style="vertical-align:top;">:</td><td><div>session_data_tcc</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_file</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_filename</td><td style="vertical-align:top;">:</td><td><div>/var/www/web2py/applications/tcc/sessions/127.0.0.1-35932226-b2f5-4f3d-bdb8-1cb6536778e3</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_hash</td><td style="vertical-align:top;">:</td><td><div>c0762cbf4baf7f9af97c051e7fcb8083</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-35932226-b2f5-4f3d-bdb8-1cb6536778e3</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_name</td><td style="vertical-align:top;">:</td><td><div>session_id_tcc</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_masterapp</td><td style="vertical-align:top;">:</td><td><div>tcc</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_new</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_storage_type</td><td style="vertical-align:top;">:</td><td><div>file</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">status</td><td style="vertical-align:top;">:</td><td><div>200</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">view</td><td style="vertical-align:top;">:</td><td><div>control/dash.html</div></td></tr></table></div>'
tRp275
sS'locals'
p276
(dp277
S'field'
p278
S'<Query (ScanDispositivo.idScan = 10)>'
p279
sS'self'
p280
S'<pydal.adapters.sqlite.SQLiteAdapter object>'
p281
sssS'traceback'
p282
S'Traceback (most recent call last):\n  File "/var/www/web2py/gluon/restricted.py", line 227, in restricted\n    exec ccode in environment\n  File "/var/www/web2py/applications/tcc/controllers/control.py", line 232, in <module>\n  File "/var/www/web2py/gluon/globals.py", line 417, in <lambda>\n    self._caller = lambda f: f()\n  File "/var/www/web2py/applications/tcc/controllers/control.py", line 33, in dash\n    dispositivos = db().select(db.ScanDispositivo.idScan == idScan).as_list()\n  File "/var/www/web2py/gluon/packages/dal/pydal/objects.py", line 2020, in select\n    return adapter.select(self.query, fields, attributes)\n  File "/var/www/web2py/gluon/packages/dal/pydal/adapters/sqlite.py", line 123, in select\n    return super(SQLiteAdapter, self).select(query, fields, attributes)\n  File "/var/www/web2py/gluon/packages/dal/pydal/adapters/base.py", line 1283, in select\n    sql = self._select(query, fields, attributes)\n  File "/var/www/web2py/gluon/packages/dal/pydal/adapters/base.py", line 1110, in _select\n    sql_f = \', \'.join(map(geoexpand, fields))\n  File "/var/www/web2py/gluon/packages/dal/pydal/adapters/base.py", line 1107, in geoexpand\n    if isinstance(field.type,str) and field.type.startswith(\'geo\') and isinstance(field, Field):\nAttributeError: \'Query\' object has no attribute \'type\'\n'
p283
s.